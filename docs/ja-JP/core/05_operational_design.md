
# **05_operational_design.md — 運用設計（Operational Design）**

## 0. はじめに

本章では、NRA‑IDE をシステムに組み込む際の  
**設計原則（Design Principles）** を定義する。

04 が「運用手順」であるのに対し、  
本章は **運用を成立させるための設計思想** を扱う。

---

# **1. 三層構造の設計（RNA Sandwich Integration）**

NRA‑IDE は **Pre‑RNA / LLM / Post‑RNA** の三層構造で動作する。  
設計者はこの三層を **物理的・論理的に分離**しなければならない。

### 1.1 Pre‑RNA の設計
- 入力を因果単位 δ に分解する  
- 意味処理を行わない  
- LLM に渡す前に構造を整える  
- ここで意味を混ぜると構造侵食が起きる

### 1.2 LLM の設計
- 意味生成のみを担当  
- 安全性は担当しない  
- NRA‑IDE の外側に置く  
- LLM の出力は必ず Post‑RNA に渡す

### 1.3 Post‑RNA の設計
- LLM 出力を因果構造として再評価  
- R(δ/τ) を計算  
- R ≥ R_op なら破断 → SILENCE  
- Discard Log を記録  
- 意味解釈を行わない

---

# **2. Box サンドイッチ構造の設計（Curtain 禁止）**

### 2.1 Curtain 構造の禁止
Curtain（薄い分離）は以下の問題を引き起こす：

- 意味が逆流する  
- 構造侵食が起きる  
- LLM が RNA に影響を与える  
- 安全性が保証できない

### 2.2 Box 構造の要件
Box（厚い分離）は以下を満たす：

- Pre‑RNA と LLM の完全分離  
- LLM と Post‑RNA の完全分離  
- 双方向の逆流を遮断  
- 物理的・論理的隔離

### 2.3 Box の設計原則
- API 境界を固定する  
- 意味を渡さない  
- 構造だけを渡す  
- LLM の内部状態を参照しない  
- Post‑RNA の判断を LLM に返さない

---

# **3. 破断時の設計（Fail‑Closed Handling）**

### 3.1 破断は正常動作
- 破断は「安全の発動」  
- エラーではない  
- 再試行は人間が判断する

### 3.2 破断後の処理
- SILENCE をそのまま返す  
- 補完しない  
- 修正しない  
- LLM に戻さない  
- 意味で埋めない

---

# **4. Discard Log の設計**

### 4.1 記録内容
- R（破断直前）  
- δ の断片  

### 4.2 設計上の注意
- 意味解釈を禁止  
- 改善に使わない  
- モデル評価に使わない  
- 外部公開しない  
- 保存期間を短くする

---

# **5. 人間の責任境界の設計**

### 5.1 人間が担当する領域
- 意味判断  
- 文脈判断  
- 最終判断  
- リスク判断  

### 5.2 NRA‑IDE が担当する領域
- 因果構造の破断検出  
- Fail‑Closed  
- Discard Log の記録  

### 5.3 境界の固定
- 人間が LLM の意味を評価  
- NRA‑IDE は構造だけを評価  
- 境界を曖昧にしない

---

# **6. 運用者教育の設計**

### 6.1 必須理解
- NRA‑IDE は意味を扱わない  
- 改善要求は禁止  
- 一貫性要求は禁止  
- 履歴依存は禁止  
- Fail‑Closed は正常動作  

### 6.2 教育の目的
- 誤用を防ぐ  
- 過信を防ぐ  
- 構造侵食を防ぐ  
- Curtain 構造を避ける

---

# **7. 本質**

> **「NRA‑IDE の運用設計は、  
>  “構造を守るための構造” を設計する行為である。」**
